# Production Environment Configuration
# Overrides for production/lab environment

---
# Environment identifier
environment: production

# ============================================================================
# NETWORK OVERRIDES
# ============================================================================

network:
  master_ip: "134.99.120.40"    # Camera/Master PC (production)
  bind_host: "0.0.0.0"          # Bind to all interfaces


# ============================================================================
# PATHS OVERRIDES
# ============================================================================

paths:
  # Production uses network drives
  output_base: "Y:/Xi/Data"
  
  # LabVIEW TDMS data paths
  labview_tdms: "Y:/Xi/Data/PMT"
  labview_telemetry: "Y:/Xi/Data/telemetry"
  
  # Camera paths
  camera_frames: "Y:/Xi/Data/camera/raw_frames"
  camera_settings: "Y:/Xi/Data/camera/settings"
  camera_dcimg: "Y:/Xi/Data/camera/dcimg"
  live_frames: "Y:/Xi/Data/camera/live_frames"
  
  # Processed data (local drive for performance)
  jpg_frames: "E:/Data/jpg_frames"
  jpg_frames_labelled: "E:/Data/jpg_frames_labelled"
  ion_data: "E:/Data/ion_data"
  
  # Experiment data
  experiments: "Y:/Xi/Data/experiments"
  analysis_results: "Y:/Xi/Data/analysis/results"
  analysis_settings: "Y:/Xi/Data/analysis/settings"
  debug_path: "Y:/Xi/Data/debug"


# ============================================================================
# LABVIEW OVERRIDES
# ============================================================================

labview:
  enabled: true
  host: "172.17.1.217"          # LabVIEW PC IP (SMILE computer)
  auto_reconnect: true


# ============================================================================
# TELEMETRY OVERRIDES
# ============================================================================

telemetry:
  path: "Y:/Xi/Data/telemetry"
  poll_interval: 1.0


# ============================================================================
# CAMERA OVERRIDES
# ============================================================================

camera:
  auto_start: true
  mode: "inf"
  
  raw_frames_path: "E:/Data/jpg_frames"
  labelled_frames_path: "E:/Data/jpg_frames_labelled"
  ion_data_path: "E:/Data/ion_data"
  
  infinite_mode:
    trigger_mode: "extern"      # Use external trigger in production


# ============================================================================
# LOGGING OVERRIDES
# ============================================================================

logging:
  level: "INFO"
  
  files:
    manager: "Y:/Xi/Data/logs/manager.log"
    worker: "Y:/Xi/Data/logs/artiq_worker.log"
    camera: "Y:/Xi/Data/logs/camera.log"
    analysis: "Y:/Xi/Data/logs/analysis.log"


# ============================================================================
# PERFORMANCE OVERRIDES
# ============================================================================

performance:
  num_threads: 8
  use_vectorized: true
  use_gpu: true


# ============================================================================
# SECURITY
# ============================================================================

security:
  enable_authentication: true
  require_https: false          # Set to true if using HTTPS
  allowed_hosts:
    - "134.99.120.40"
    - "localhost"
    - "127.0.0.1"
